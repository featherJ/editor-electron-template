appId: "com.example.app"
copyright: "Copyright (C) 2024-2024 My Company Name. All rights reserved"
productName: "Editor Electron Template"
asar: true
buildDependenciesFromSource: false
nodeGypRebuild: false
npmRebuild: false
compression: "normal"

files:
  - out/**/*
  - "!node_modules/**"   # 排除所有 node_modules
directories:
  output: dist

fileAssociations:
  - ext: txt
    name: Text Document
    description: Text Files
    icon: build/win/app.ico
  - ext: md
    name: Markdown Document
    description: Markdown Files
    icon: build/win/app.ico

mac:
  category: "public.app-category.developer-tools"
  type: "distribution"
  identity: null
  icon: "build/darwin/app.icns"
  artifactName: "${productName}-${arch}-${version}.${ext}"
  target:
    - dir
dmg:
  background: build/darwin/background.png
  iconSize: 80
  window:
    width: 500
    height: 300
  contents:
    - x: 135
      y: 190
    - x: 370
      y: 190
      type: link
      path: /Applications

win:
  icon: build/win/app.ico
  target:
    - dir
  publisherName: Egret Technology Inc
  artifactName: "${productName}-${arch}-${version}.${ext}"
  # rfc3161TimeStampServer: http://timestamp.entrust.net/TSS/RFC3161sha1TS
    
    
nsis:
  oneClick: false
  allowToChangeInstallationDirectory: false
  runAfterFinish: false
  perMachine: true
  allowElevation: true
  installerIcon: build/win/app.ico
  uninstallerIcon: build/win/app.ico
  installerHeaderIcon: build/win/app.ico
  installerSidebar: build/win/WizModernImage 100.bmp
  uninstallerSidebar: build/win/WizModernImage 100.bmp
  uninstallDisplayName: Egret UI Editor
  license: build/win/zh_CN.license.txt
  deleteAppDataOnUninstall: false
  createDesktopShortcut: true
  menuCategory: true
  shortcutName: Egret UI Editor
  displayLanguageSelector: false
  multiLanguageInstaller: true
  installerLanguages:
    - zh-CN
    - en_US
  language: "2052"
  unicode: true
  include: build/win/installer.nsh


publish:
  provider: generic
  url: http://localhost:3000/